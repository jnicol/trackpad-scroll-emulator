/*!
 * TrackpadScrollEmulator
 * Version: 1.0.8
 * Author: Jonathan Nicol @f6design
 * https://github.com/jnicol/trackpad-scroll-emulator
 */
!function(a){function b(b,d){function e(){B.hasClass("horizontal")&&(E="horiz",F="scrollLeft",G="width",H="left"),B.prepend('<div class="tse-scrollbar"><div class="drag-handle"></div></div>'),w=B.find(".tse-scrollbar:first"),x=B.find(".drag-handle:first"),d.wrapContent&&C.wrap('<div class="tse-scroll-content" />'),v=B.find(".tse-scroll-content:first"),p(),d.autoHide&&B.on("mouseenter",m),x.on("mousedown",f),w.on("mousedown",i),v.on("scroll",j),l(),a(window).on("resize.trackpadScollEmulator",r),d.autoHide||n()}function f(b){b.preventDefault();var c=b.pageY;"horiz"===E&&(c=b.pageX),y=c-x.offset()[H],a(document).on("mousemove",g),a(document).on("mouseup",h)}function g(a){a.preventDefault();var b=a.pageY;"horiz"===E&&(b=a.pageX);var c=b-w.offset()[H]-y,d=c/w[G](),e=d*C[G]();v[F](e)}function h(){a(document).off("mousemove",g),a(document).off("mouseup",h)}function i(a){if(a.target!==x[0]){var b=D*v[G](),c="vert"===E?a.originalEvent.layerY:a.originalEvent.layerX,d=x.position()[H],e=d>c?v[F]()-b:v[F]()+b;v[F](e)}}function j(){m(),k()}function k(){var a="height"===G?C.outerHeight():C.outerWidth(),b=v[F](),c=w[G](),e=b+c+d.scrollBuffer>=a;e&&u("onScrollEnd")}function l(){var a="height"===G?C.outerHeight():C.outerWidth(),b=v[F](),c=w[G](),d=c/a,e=Math.round(d*b)+2,f=Math.floor(d*(c-2))-2;a>c?(x.css("vert"===E?{top:e,height:f}:{left:e,width:f}),w.show()):w.hide()}function m(){l(),n()}function n(){x.addClass("visible"),d.autoHide&&("number"==typeof z&&window.clearTimeout(z),z=window.setTimeout(function(){o()},1e3))}function o(){x.removeClass("visible"),"number"==typeof z&&window.clearTimeout(z)}function p(){"vert"===E?(v.width(B.width()+q()),v.height(B.height())):(v.width(B.width()),v.height(B.height()+q()),C.height(B.height()))}function q(){var b=a('<div class="scrollbar-width-tester" style="width:50px;height:50px;overflow-y:scroll;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div>');a("body").append(b);var c=a(b).innerWidth(),d=a("div",b).innerWidth();return b.remove(),c===d&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1?17:c-d}function r(){p(),l()}function s(a,b){return b?void(d[a]=b):d[a]}function t(){C.insertBefore(w),w.remove(),v.remove(),C.css({height:B.height()+"px","overflow-y":"scroll"}),a(window).off("resize.trackpadScollEmulator"),u("onDestroy"),B.removeData("plugin_"+c)}function u(a){void 0!==d[a]&&d[a].call(A)}var v,w,x,y,z,A=b,B=a(b),C=B.find(".tse-content:first"),D=7/8,E="vert",F="scrollTop",G="height",H="top";return d=a.extend({},a.fn[c].defaults,d),e(),{option:s,destroy:t,recalculate:r}}var c="TrackpadScrollEmulator";a.fn[c]=function(d){if("string"==typeof arguments[0]){var e,f=arguments[0],g=Array.prototype.slice.call(arguments,1);return this.each(function(){if(!a.data(this,"plugin_"+c)||"function"!=typeof a.data(this,"plugin_"+c)[f])throw new Error("Method "+f+" does not exist on jQuery."+c);e=a.data(this,"plugin_"+c)[f].apply(this,g)}),void 0!==e?e:this}return"object"!=typeof d&&d?void 0:this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))})},a.fn[c].defaults={onInit:function(){},onDestroy:function(){},onScrollEnd:function(){},scrollBuffer:50,wrapContent:!0,autoHide:!0}}(jQuery);